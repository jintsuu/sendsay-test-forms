(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(2),l=a.n(s),i=(a(15),a(3)),o=a(4),m=a(7),c=a(5),u=a(8),d=a(6),p=a.n(d),g=function(e){var t=e.addFile,a=e.deleteFile,n=e.index;return r.a.createElement("div",{className:"file-input-wrapper",id:"button-".concat(n)},r.a.createElement("input",{className:"file-input",type:"file",id:"file-".concat(n),onChange:function(e){return t(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"file-".concat(n),className:"file-label",id:"label-".concat(n)},"Add some file into me!"),r.a.createElement("img",{src:p.a,alt:"Delete",className:"disabled",onClick:function(){return a(n)}}))},f=function(e){var t=e.isMessagesSended,a=e.messages;return r.a.createElement("div",{className:t?"messages-box":"disabled"},r.a.createElement("div",{className:"messages-box__wrapper"},r.a.createElement("ul",{className:"messages-box__titles"},r.a.createElement("li",{className:"titles__item"},"Date"),r.a.createElement("li",{className:"titles__item"},"Subject"),r.a.createElement("li",{className:"titles__item"},"Status")),r.a.createElement("hr",null),r.a.createElement("div",{className:"messages"},a.reverse().map(function(e,t){return r.a.createElement("div",{className:"messages__item",key:t},r.a.createElement("p",{className:"item__date"},e.date),r.a.createElement("p",{className:"item__subject"},e.subject),r.a.createElement("p",{className:"item__status"},e.status))}))))},v=(a(16),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).dropRef=r.a.createRef(),e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({dragging:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter--,0===e.dragCounter&&e.setState({dragging:!1})},e.handleDrop=function(t){t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1});var a=t.dataTransfer.files;if(a&&a.length>0)for(var n=0,r=a.length;n<r;n++)e.addFile(a[n])},e.addButtonsIntoArr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=e.state.buttons;a.push({component:r.a.createElement(g,{buttonCounter:e.state.buttonCounter,index:t,key:t,addFile:e.addFile,deleteFile:e.deleteFile}),number:t}),e.setState({buttons:a})},e.addFile=function(t){var a=e.state.buttonCounter,n=t.size/1024/1024,r=n+e.state.sizeSum,s=document.getElementById("label-".concat(a)),l=document.getElementById("file-".concat(a));if(n<5&&r<20){l.setAttribute("disabled","");s.innerHTML=t.name,a++,e.setState({buttonCounter:a,sizeSum:r},function(){return e.addButtonsIntoArr(a)}),e.state.files.push(JSON.stringify({name:t.name,content:"",encoding:"base64"}))}else n>5?(alert("Size of file too large!"),l.value=""):r>20&&(alert("Sum of file's sizes too large!"),l.value="")},e.deleteFile=function(t){var a=e.state.buttonCounter,n=e.state.buttons,r=e.state.files;n=n.filter(function(e){return e.number!==t}),a--,e.setState({files:r,buttons:n,buttonCounter:a})},e.sendMail=function(t){t.preventDefault();var a=document.getElementById("fromName"),n=document.getElementById("fromMail"),r=document.getElementById("toName"),s=document.getElementById("toMail"),l=document.getElementById("subject"),i=document.getElementById("text"),o=new Date,m="".concat(o.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]," ").concat(o.getFullYear()," ").concat(o.getHours(),":").concat(o.getMinutes(),":").concat(o.getSeconds()),c={subject:l.value,fromName:a.value,fromMail:n.value,toName:r.value,toMail:s.value,text:i.value,date:m,status:"sended"},u=e.state.messages;u.push(c),e.setState({messages:u,isMessagesSended:!0});var d="request="+encodeURIComponent(JSON.stringify({action:"login",login:"nipanasovich@gmail.com",sublogin:"nipanasovich",password:"uu1Quem"}));fetch("https://api.sendsay.ru/?apiversion=100&json=1&",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:d}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),a.value="",n.value="",r.value="",s.value="",l.value="",i.value="";for(var p=1;p<=e.state.files.length;p++)e.deleteFile(p);e.setState({sizeSum:0,buttonCounter:1,files:[]})},e.state={buttonCounter:1,sizeSum:0,buttons:[],files:[],dragging:!1,messages:[],isMessagesSended:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.dragCounter=0;var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.addButtonsIntoArr()}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=this.state,t=e.dragging,a=e.sizeSum,n=e.isMessagesSended,s=e.messages,l=e.buttons;return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:this.sendMail,className:"form",ref:this.dropRef},r.a.createElement("div",{className:t?"drop-zone":"disabled"},r.a.createElement("div",{className:"drop-zone--inner"},r.a.createElement("p",{className:"drop-zone__text"},"Drop me Here!"))),r.a.createElement("h1",{className:"form__heading"},"BestMail"),r.a.createElement("div",{className:"form__inputs"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"text",id:"fromName",name:"from-name",minLength:"2",maxLength:"20",placeholder:"Your Name",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Your Name")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"email",id:"fromMail",name:"from-mail",placeholder:"Your Email",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Your Email")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"text",id:"toName",name:"to-name",minLength:"2",maxLength:"20",placeholder:"Receiver Name",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Receiver Name")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"email",id:"toMail",name:"to-mail",placeholder:"Receiver Email",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Receiver Email")),r.a.createElement("div",{className:"input-wrapper input--subject"},r.a.createElement("input",{className:"input",type:"text",id:"subject",name:"subject",minLength:"4",placeholder:"Message Subject",required:!0}),r.a.createElement("label",{htmlFor:"subject",className:"label"},"Message Subject"))),r.a.createElement("textarea",{className:"textarea",id:"text",rows:"7",placeholder:"Write your message here!",minLength:"10",required:!0}),r.a.createElement("div",{className:"files"},l.map(function(e){return e.component})),r.a.createElement("div",{className:"files-size"},r.a.createElement("p",null,"Total size of files: ",a," MB"),r.a.createElement("p",null,"Max size of one file: 5 MB"),r.a.createElement("p",null,"Max size of all files: 20 MB")),r.a.createElement("input",{type:"submit",className:"submit-btn",value:"Send!"})),r.a.createElement(f,{isMessagesSended:n,messages:s}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,a){e.exports=a.p+"static/media/del.fd8b42e2.svg"},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.f359d389.chunk.js.map