(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(2),i=a.n(l),o=(a(15),a(3)),s=a(4),m=a(7),c=a(5),d=a(8),u=(a(16),a(6)),p=a.n(u),f=function(e){var t=e.fileCounter,a=e.addFile,n=e.index;return r.a.createElement("div",{className:"file-input-wrapper"},r.a.createElement("input",{className:"file-input",type:"file",id:"file-".concat(n),onChange:function(e){return a(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"file-".concat(n),className:"file-label",id:"label-".concat(n)},"Add some file into me!"),r.a.createElement("img",{src:p.a,alt:"Delete",className:t===n?"delete-btn--disabled":"delete-btn"}))},g=(a(17),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).dropRef=r.a.createRef(),e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({dragging:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter--,0===e.dragCounter&&e.setState({dragging:!1})},e.handleDrop=function(t){t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1});var a=t.dataTransfer.files;if(a&&a.length>0)for(var n=0,r=a.length;n<r;n++)e.addFile(a[n])},e.addFile=function(t){var a=e.state.fileCounter,n=t.size/1024/1024,r=n+e.state.sizeSum,l=document.getElementById("label-".concat(a)),i=document.getElementById("file-".concat(a));if(n<5&&r<20){e.state.files.push(JSON.stringify({name:t.name,content:"",encoding:"base64"})),l.innerHTML=t.name,a++,e.setState({fileCounter:a,sizeSum:r}),i.setAttribute("disabled","")}else alert("Too large size of file or of sum of files"),i.value=""},e.sendMail=function(){var t=document.getElementById("fromName").value,a=document.getElementById("fromMail").value,n=document.getElementById("toName").value,r=document.getElementById("toMail").value,l={action:"issue.send.test",letter:{subject:document.getElementById("subject").value,"from.name":t,"from.email":a,"to.name":n,message:{text:document.getElementById("text").value},attaches:e.state.files},sendwhen:"test",mca:[r],session:"coooooookies"};return fetch("https://api.sendsay.ru/clu180",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),!1},e.state={fileCounter:1,sizeSum:0,files:[],dragging:!1,filesButtons:[]},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.dragCounter=0;var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){for(var e=this.state,t=e.fileCounter,a=e.dragging,n=e.sizeSum,l=(e.filesButtons,[]),i=0;i<t;i++)l.push(r.a.createElement(f,{fileCounter:t,index:i+1,key:i,addFile:this.addFile}));return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"form",ref:this.dropRef},r.a.createElement("div",{className:a?"drop-zone":"drop-zone--disabled"},r.a.createElement("div",{className:"drop-zone--inner"},r.a.createElement("p",{className:"drop-zone__text"},"Drop me Here!"))),r.a.createElement("h1",{className:"form__heading"},"BestMail"),r.a.createElement("div",{className:"form__inputs"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"text",id:"fromName",name:"from-name",minLength:"2",maxLength:"20",placeholder:"Your Name",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Your Name")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"email",id:"fromMail",name:"from-mail",placeholder:"Your Email",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Your Email")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"text",id:"toName",name:"to-name",minLength:"2",maxLength:"20",placeholder:"Receiver Name",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Receiver Name")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"email",id:"toMail",name:"to-mail",placeholder:"Receiver Email",required:!0}),r.a.createElement("label",{htmlFor:"from-name",className:"label"},"Receiver Email")),r.a.createElement("div",{className:"input-wrapper input--subject"},r.a.createElement("input",{className:"input",type:"text",id:"subject",name:"subject",minLength:"4",placeholder:"Message Subject",required:!0}),r.a.createElement("label",{htmlFor:"subject",className:"label"},"Message Subject"))),r.a.createElement("textarea",{className:"textarea",id:"text",rows:"10",cols:"94",placeholder:"Write your message here!",minLength:"10",required:!0}),r.a.createElement("div",{className:"files"},l),r.a.createElement("div",{className:"files-size"},"Total size of files: ",n," MB"),r.a.createElement("input",{type:"submit",className:"submit-btn",onClick:this.sendMail,value:"Send!"})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,a){e.exports=a.p+"static/media/del.fd8b42e2.svg"},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.115e17df.chunk.js.map