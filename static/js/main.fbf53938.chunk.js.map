{"version":3,"sources":["components/FileButton.js","components/MessagesBox.js","App.js","serviceWorker.js","index.js","img/del.svg"],"names":["FileButton","_ref","addFile","deleteFile","index","react_default","a","createElement","className","id","concat","type","onChange","e","target","files","htmlFor","src","del","alt","onClick","MessagesBox","isMessagesSended","messages","reverse","map","item","key","date","subject","status","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","dropRef","React","createRef","handleDrag","preventDefault","stopPropagation","handleDragIn","dragCounter","dataTransfer","items","length","setState","dragging","handleDragOut","handleDrop","data","i","len","addButtonsIntoArr","counter","arguments","undefined","buttons","state","push","component","components_FileButton","buttonCounter","number","file","newFileSize","size","newSizeSum","sizeSum","button","document","getElementById","fileInput","setAttribute","innerHTML","name","JSON","stringify","content","encoding","alert","value","filter","el","sendMail","fromName","fromMail","toName","toMail","text","Date","mailDate","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","newMessage","params","action","letter","from.name","from.email","to.name","message","attaches","sendwhen","mca","session","request","encodeURIComponent","fetch","method","headers","Content-Type","body","then","res","json","console","log","catch","err","div","current","addEventListener","removeEventListener","_this$state","onSubmit","ref","minLength","maxLength","placeholder","required","rows","components_MessagesBox","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.fbf53938.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport del from '../img/del.svg';\r\n\r\n\r\nconst FileButton = ({ addFile, deleteFile, index}) => {\r\n    return(\r\n        <div className=\"file-input-wrapper\" id={`button-${index}`}>\r\n            <input className=\"file-input\" type=\"file\" id={`file-${index}`} onChange={ (e) => addFile(e.target.files[0]) }/>\r\n            <label htmlFor={`file-${index}`} className=\"file-label\" id={`label-${index}`}>Add some file into me!</label>\r\n            <img src={ del } alt=\"Delete\" className=\"disabled\" onClick={ () => deleteFile(index) } />\r\n        </div> \r\n    );\r\n}\r\n\r\nexport default FileButton;","import React from 'react';\r\n\r\nconst MessagesBox = ({ isMessagesSended, messages }) => {\r\n\r\n    return(\r\n        <div className={ isMessagesSended ? \"messages-box\" : \"disabled\" }>\r\n          <div className=\"messages-box__wrapper\">\r\n            <ul className=\"messages-box__titles\">\r\n              <li className=\"titles__item\">\r\n                Date\r\n              </li>\r\n              <li className=\"titles__item\">\r\n                Subject\r\n              </li>\r\n              <li className=\"titles__item\">\r\n                Status\r\n              </li>\r\n            </ul>\r\n            <hr />\r\n            <div className=\"messages\">\r\n              {\r\n                messages.reverse().map( (item, index) => {\r\n                  return(\r\n                    <div className=\"messages__item\" key={index}>\r\n                      <p className=\"item__date\">\r\n                        { item.date }\r\n                      </p>\r\n                      <p className=\"item__subject\">\r\n                        { item.subject }\r\n                      </p> \r\n                      <p className=\"item__status\">\r\n                        { item.status }\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessagesBox;","import React, { Component } from 'react';\n\nimport FileButton from './components/FileButton';\nimport MessagesBox from './components/MessagesBox';\n\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonCounter: 1,\n      sizeSum: 0,\n      buttons: [],\n      files: [],\n      dragging: false,\n      messages: [],\n      isMessagesSended: false,\n    };\n  }\n  \n\n  // ---------------------------------- DRAG AND DROP -------------------------------------------\n\n  dropRef = React.createRef();\n\n  handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  handleDragIn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.dragCounter++;\n    if(e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      this.setState({ dragging: true });\n    }\n  }\n\n  handleDragOut = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.dragCounter--;\n    if (this.dragCounter === 0) {\n      this.setState({ dragging: false });\n    }\n  }\n  \n  handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      dragging: false\n    });\n    const data = e.dataTransfer.files;\n    if (data && data.length > 0) {\n      for(let i = 0, len = data.length; i < len; i++) {\n        this.addFile(data[i]);\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.dragCounter = 0;\n    let div = this.dropRef.current;\n    div.addEventListener('dragenter', this.handleDragIn);\n    div.addEventListener('dragleave', this.handleDragOut);\n    div.addEventListener('dragover', this.handleDrag);\n    div.addEventListener('drop', this.handleDrop);\n\n    this.addButtonsIntoArr();\n  }\n\n  componentWillUnmount() {\n    let div = this.dropRef.current;\n    div.removeEventListener('dragenter', this.handleDragIn);\n    div.removeEventListener('dragleave', this.handleDragOut);\n    div.removeEventListener('dragover', this.handleDrag);\n    div.removeEventListener('drop', this.handleDrop);\n  }\n\n\n\n  // --------------------------- ADDING FILES THROUGH THE BUTTON -------------------------------------\n\n  addButtonsIntoArr = (counter = 1) => {\n    let buttons = this.state.buttons;\n\n    buttons.push({\n      component: <FileButton \n        buttonCounter={ this.state.buttonCounter }\n        index={ counter }\n        key={ counter } \n        addFile={ this.addFile } \n        deleteFile={ this.deleteFile } />,\n      number: counter,\n    });\n\n    this.setState({\n      buttons: buttons,\n    });\n  }\n\n\n  addFile = (file) => {\n    let counter = this.state.buttonCounter;\n    const newFileSize = file.size/1024/1024;\n    const newSizeSum  = newFileSize + this.state.sizeSum;\n    const button = document.getElementById(`label-${counter}`);\n    const fileInput = document.getElementById(`file-${counter}`);\n\n    if(newFileSize < 5 && newSizeSum < 20) {\n      fileInput.setAttribute(\"disabled\", \"\");\n      const content = \"\";\n      \n      button.innerHTML = file.name;\n      counter++;\n\n      this.setState({\n        buttonCounter: counter,\n        sizeSum: newSizeSum, \n      }, () => this.addButtonsIntoArr(counter));\n\n      this.state.files.push(JSON.stringify({\n        name: file.name,\n        content: content,\n        encoding: \"base64\",\n      })); \n\n    } else if(newFileSize > 5){\n      alert(\"Size of file too large!\");\n      fileInput.value = \"\";\n    } else if(newSizeSum > 20) {\n      alert(\"Sum of file's sizes too large!\");\n      fileInput.value = \"\";\n    }\n  }\n\n  // --------------------------------------- DELETING FILES -------------------------------------------\n\n  deleteFile = (index) => {\n    let counter = this.state.buttonCounter;\n    let buttons = this.state.buttons;\n    let files = this.state.files;\n    //const newSum = this.state.sizeSum - inputToDelete.files[0].size/1024/1024;\n    // files = files.filter(index-1, 1);\n    buttons = buttons.filter(el => el.number !== index);\n    counter--;\n\n    this.setState({\n      files: files,\n      //sizeSum: newSum,\n      buttons: buttons,\n      buttonCounter: counter,\n    });\n  }\n  \n\n  // --------------------------------------- SENDING REQUEST TO API -------------------------------------\n\n  sendMail = (e) => {\n    e.preventDefault();\n    let fromName = document.getElementById(\"fromName\");\n    let fromMail = document.getElementById(\"fromMail\");\n    let toName = document.getElementById(\"toName\");\n    let toMail = document.getElementById(\"toMail\");\n    let subject = document.getElementById(\"subject\");\n    let text = document.getElementById(\"text\");\n\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n      \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n    ];\n    const date = new Date();\n    const mailDate = `${date.getDate()} ${monthNames[date.getMonth()]} ${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n\n  \n    const newMessage = {\n      subject: subject.value,\n      fromName: fromName.value,\n      fromMail: fromMail.value,\n      toName: toName.value,\n      toMail: toMail.value,\n      text: text.value,\n      date: mailDate,\n      status: \"sended\",\n    }\n\n    const messages = this.state.messages;\n\n    messages.push(newMessage);\n\n    this.setState({\n      messages: messages,\n      isMessagesSended: true,\n    })\n    var params = { \n      \"action\" : \"issue.send.test\",\n      \"letter\" : {\n        \"subject\" : subject.value,\n        \"from.name\" : fromName.value, \n        \"from.email\" : fromMail.value,\n        \"to.name\" : toName.value,\n        \"message\": {\"text\" : text.value },\n        \"attaches\": this.state.files\n      },\n      \"sendwhen\": \"test\",\n      \"mca\": [\n        toMail.value,\n      ],\n      \"session\": \"Брать из cookies по ключу session\",\n    };\n\n    var request = \"request=\" + encodeURIComponent(JSON.stringify(params));\n\n    fetch(\"https://api.sendsay.ru/?apiversion=100&json=1&\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n      },\n      body: request,\n    })\n    .then(res => res.json())\n    .then(res => console.log(res))\n    .catch(err => console.log(err));\n\n    fromName.value = \"\";\n    fromMail.value = \"\";\n    toName.value = \"\";\n    toMail.value = \"\";\n    subject.value = \"\";\n    text.value = \"\";\n\n    for(let i=1; i<=this.state.files.length; i++) {\n      this.deleteFile(i);\n    }\n\n    this.setState({\n      sizeSum: 0,\n      buttonCounter: 1,\n      files: [],\n    })\n\n  }\n  \n\n  // ---------------------------------------- REDNER ----------------------------------\n\n  render() {\n    const { dragging, sizeSum, isMessagesSended, messages, buttons } = this.state;\n\n    return (\n      <div className=\"App\">\n        <form onSubmit={ this.sendMail } className=\"form\" ref={ this.dropRef }>\n          <div className={ dragging ? \"drop-zone\" : \"disabled\"}>\n            <div className=\"drop-zone--inner\"><p className=\"drop-zone__text\">Drop me Here!</p></div>\n          </div>\n          <h1 className=\"form__heading\">BestMail</h1>\n          <div className=\"form__inputs\">\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"text\" id=\"fromName\" name=\"from-name\" minLength=\"2\" maxLength=\"20\" placeholder=\"Your Name\" required />\n              <label htmlFor=\"from-name\" className=\"label\">Your Name</label>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"email\" id=\"fromMail\" name=\"from-mail\" placeholder=\"Your Email\" required />\n              <label htmlFor=\"from-name\" className=\"label\">Your Email</label>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"text\" id=\"toName\" name=\"to-name\" minLength=\"2\" maxLength=\"20\" placeholder=\"Receiver Name\" required />\n              <label htmlFor=\"from-name\" className=\"label\">Receiver Name</label>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"email\" id=\"toMail\" name=\"to-mail\" placeholder=\"Receiver Email\"  required />\n              <label htmlFor=\"from-name\" className=\"label\">Receiver Email</label>\n            </div>\n            <div className=\"input-wrapper input--subject\">\n              <input className=\"input\" type=\"text\" id=\"subject\" name=\"subject\" minLength=\"4\" placeholder=\"Message Subject\"  required />\n              <label htmlFor=\"subject\" className=\"label\">Message Subject</label>\n            </div>\n          </div>\n          <textarea className=\"textarea\" id=\"text\" rows=\"7\" placeholder=\"Write your message here!\" minLength=\"10\" required></textarea>\n\n          <div className=\"files\">\n            { \n              buttons.map((item) => item.component)\n            }\n          </div>\n\n          <div className=\"files-size\">\n            <p>Total size of files: { sizeSum } MB</p>\n            <p>Max size of one file: 5 MB</p>\n            <p>Max size of all files: 20 MB</p>\n          </div>\n\n          <input type=\"submit\" className=\"submit-btn\" value = \"Send!\"/>\n        </form>\n\n        <MessagesBox isMessagesSended={ isMessagesSended } messages={ messages } />\n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/del.fd8b42e2.svg\";"],"sourceRoot":""}