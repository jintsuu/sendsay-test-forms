{"version":3,"sources":["components/FileButton.js","components/Message.js","components/MessagesBox.js","App.js","serviceWorker.js","index.js","img/del.svg","img/loading.svg"],"names":["FileButton","_ref","buttonCounter","addFile","deleteFile","index","react_default","a","createElement","className","id","concat","type","onChange","e","target","files","htmlFor","src","del","alt","onClick","Messages","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getStatus","response","status","isStatusSetted","params","action","session","request","encodeURIComponent","JSON","stringify","fetch","method","headers","Content-Type","body","then","res","json","Number","clearInterval","interval","setState","catch","err","console","log","state","_this2","setInterval","trackId","_this$props","date","subject","Component","MessagesBox","isMessagesSended","messages","reverse","map","item","Message","key","App","dropRef","React","createRef","handleDrag","preventDefault","stopPropagation","handleDragIn","dragCounter","dataTransfer","items","length","dragging","handleDragOut","handleDrop","data","i","len","addButtonsIntoArr","counter","arguments","undefined","buttons","push","component","number","file","content","sizes","newFileSize","size","newSizeSum","sizeSum","button","document","getElementById","fileInput","reader","FileReader","setAttribute","onload","result","name","encoding","readAsDataURL","innerHTML","alert","value","newSum","filter","el","reduce","sum","auth","isMessageSending","login","passwd","sendMail","isAuth","fromName","fromMail","toName","toMail","text","filesArr","Date","mailDate","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","forEach","letter","from.name","from.email","to.name","message","attaches","sendwhen","mca","newMessage","div","current","addEventListener","removeEventListener","_this$state","onSubmit","ref","loading","minLength","maxLength","placeholder","required","rows","components_FileButton","components_MessagesBox","Boolean","window","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"gPAeeA,EAVI,SAAAC,GAAkD,IAA/CC,EAA+CD,EAA/CC,cAAeC,EAAgCF,EAAhCE,QAASC,EAAuBH,EAAvBG,WAAYC,EAAWJ,EAAXI,MACrD,OACGC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBC,GAAE,UAAAC,OAAYN,IAC9CC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,aAAaG,KAAK,OAAOF,GAAE,QAAAC,OAAUN,GAASQ,SAAW,SAACC,GAAD,OAAOX,EAAQW,EAAEC,OAAOC,MAAM,OACxGV,EAAAC,EAAAC,cAAA,SAAOS,QAAO,QAAAN,OAAUN,GAASI,UAAU,aAAaC,GAAE,SAAAC,OAAWN,IAArE,0BACAC,EAAAC,EAAAC,cAAA,OAAKU,IAAMC,IAAMC,IAAI,SAASX,UAAYP,IAAkBG,EAAQ,WAAa,aAAegB,QAAU,kBAAMjB,EAAWC,QC0ExHiB,cAjFX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAeRQ,UAAY,SAACrB,GACX,IAEIsB,EAFAC,EAAS,UACTC,GAAiB,EAEfC,EAAS,CACbC,OAAU,YAEV1B,GAAMA,EAEN2B,QAAWb,EAAKD,MAAMc,SAGlBC,EAAU,iCAAmCC,mBAAmBC,KAAKC,UAAUN,IAGrFO,MAAM,0BAA2B,CAC/BC,OAAQ,OACRC,QAAS,CACPC,eAAgB,qCAElBC,KAAMR,IAEPS,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAC,GACJhB,EAAWgB,EAAG,IAAH,QAEM,KADjBhB,EAAWkB,OAAOlB,KAEhBC,EAAS,SACTC,GAAiB,GACTF,GAAY,IACpBC,EAAS,QACTC,GAAiB,GAGhBA,GACDiB,cAAc3B,EAAK4B,UAGrB5B,EAAK6B,SAAS,CACZpB,OAAQA,EACRC,eAAgBA,MAGnBoB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAzD1B/B,EAAKkC,MAAQ,CACXzB,OAAQ,UACRC,gBAAgB,GAJDV,mFAQC,IAAAmC,EAAAhC,KAClBA,KAAKyB,SAAWQ,YAAa,kBAAMD,EAAK5B,UAAU4B,EAAKpC,MAAMsC,UAAU,oDAIvEV,cAAcxB,KAAKyB,2CAiDZ,IAAAU,EACmBnC,KAAKJ,MAAvBwC,EADDD,EACCC,KAAMC,EADPF,EACOE,QACN/B,EAAWN,KAAK+B,MAAhBzB,OACR,OACE3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,cACPsD,GAENzD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBACPuD,GAEN1D,EAAAC,EAAAC,cAAA,KAAGC,UAAS,gBAAAE,OAAkBsB,IACxBA,WA3EKgC,aC6BRC,EA3BK,SAAAjE,GAA6C,IAA1CkE,EAA0ClE,EAA1CkE,iBAAkBC,EAAwBnE,EAAxBmE,SAAU/B,EAAcpC,EAAdoC,QAE/C,OACI/B,EAAAC,EAAAC,cAAA,OAAKC,UAAY0D,EAAmB,eAAiB,YACnD7D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wBACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,QAGAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,WAGAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,WAIFH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAEX2D,EAASC,UAAUC,IAAK,SAACC,EAAMlE,GAAP,OAAiBC,EAAAC,EAAAC,cAACgE,EAAD,CAASX,QAAUU,EAAK7D,GAAK2B,QAAUA,EAAU0B,KAAOQ,EAAKR,KAAOC,QAAUO,EAAKP,QAAUS,IAAMpE,0BCsW7IqE,qBAnXb,SAAAA,IAAc,IAAAlD,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+C,IACZlD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiD,GAAA5C,KAAAH,QAmBFgD,QAAUC,IAAMC,YApBFrD,EAsBdsD,WAAa,SAAChE,GACZA,EAAEiE,iBACFjE,EAAEkE,mBAxBUxD,EA2BdyD,aAAe,SAACnE,GACdA,EAAEiE,iBACFjE,EAAEkE,kBACFxD,EAAK0D,cACFpE,EAAEqE,aAAaC,OAAStE,EAAEqE,aAAaC,MAAMC,OAAS,GACvD7D,EAAK6B,SAAS,CAAEiC,UAAU,KAhChB9D,EAoCd+D,cAAgB,SAACzE,GACfA,EAAEiE,iBACFjE,EAAEkE,kBACFxD,EAAK0D,cACoB,IAArB1D,EAAK0D,aACP1D,EAAK6B,SAAS,CAAEiC,UAAU,KAzChB9D,EA6CdgE,WAAa,SAAC1E,GACZA,EAAEiE,iBACFjE,EAAEkE,kBACFxD,EAAK6B,SAAS,CACZiC,UAAU,IAEZ,IAAMG,EAAO3E,EAAEqE,aAAanE,MAC5B,GAAIyE,GAAQA,EAAKJ,OAAS,EACxB,IAAI,IAAIK,EAAI,EAAGC,EAAMF,EAAKJ,OAAQK,EAAIC,EAAKD,IACzClE,EAAKrB,QAAQsF,EAAKC,KAtDVlE,EAkFdoE,kBAAoB,WAAiB,IAAhBC,EAAgBC,UAAAT,OAAA,QAAAU,IAAAD,UAAA,GAAAA,UAAA,GAAN,EACzBE,EAAUxE,EAAKkC,MAAMsC,QAEzBA,EAAQC,KAAK,CACXC,UAAW,GACXC,OAAQN,IAGVrE,EAAK6B,SAAS,CACZ2C,QAASA,KA3FCxE,EAgGdrB,QAAU,SAACiG,GACT,IACIC,EADAR,EAAUrE,EAAKkC,MAAMxD,cAEnBoG,EAAQ9E,EAAKkC,MAAM4C,MACnBC,EAAcH,EAAKI,KAAK,KAAK,KAC7BC,EAAcF,EAAc/E,EAAKkC,MAAMgD,QACvCC,EAASC,SAASC,eAAT,SAAAlG,OAAiCkF,IAC1CiB,EAAYF,SAASC,eAAT,QAAAlG,OAAgCkF,IAC5CkB,EAAS,IAAIC,WAEhBT,EAAc,GAAKE,EAAa,IACjCK,EAAUG,aAAa,WAAY,IAEnCF,EAAOG,OAAS,SAACpG,GACfuF,EAAUvF,EAAEC,OAAOoG,OACnB3F,EAAKkC,MAAM1C,MAAMiF,KAAK,CACpBG,KAAM,CACNgB,KAAMhB,EAAKgB,KACXf,QAASA,EACTgB,SAAU,UAEVlB,OAAQN,KAIZkB,EAAOO,cAAclB,GACrBO,EAAOY,UAAYnB,EAAKgB,KACxBvB,IACAS,EAAML,KAAK,CACTO,KAAMD,EACNJ,OAAQN,IAGVrE,EAAK6B,SAAS,CACZnD,cAAe2F,EACfa,QAASD,EACTH,MAAOA,GACN,kBAAM9E,EAAKoE,kBAAkBC,MAExBU,EAAc,GACtBiB,MAAM,2BACNV,EAAUW,MAAQ,IACVhB,EAAa,KACrBe,MAAM,kCACNV,EAAUW,MAAQ,KA5IRjG,EAkJdpB,WAAa,SAACC,GACZ,IAGIqH,EAHA1B,EAAUxE,EAAKkC,MAAMsC,QACrBhF,EAAQQ,EAAKkC,MAAM1C,MACnBsF,EAAQ9E,EAAKkC,MAAM4C,MAGvBtF,EAAQA,EAAM2G,OAAO,SAAAC,GAAE,OAAIA,EAAGzB,SAAW9F,EAAM,IAC/C2F,EAAUA,EAAQ2B,OAAO,SAAAC,GAAE,OAAIA,EAAGzB,SAAW9F,IAE7CqH,GADApB,EAAQA,EAAMqB,OAAO,SAAAC,GAAE,OAAIA,EAAGzB,SAAW9F,EAAM,KAChCwH,OAAO,SAACC,EAAD7H,GAAA,OAAmB6H,EAAnB7H,EAAQuG,MAAuB,GAErDhF,EAAK6B,SAAS,CACZrC,MAAOA,EACP0F,QAASgB,EACTpB,MAAOA,EACPN,QAASA,KAjKCxE,EAwKduG,KAAO,SAACjH,GACNA,EAAEiE,iBACFvD,EAAK6B,SAAS,CACZ2E,kBAAkB,IAGpB,IAOM1F,EAAU,iCAAmCC,mBAAmBC,KAAKC,UAP5D,CACbL,OAAW,QAEX6F,MAAW,yBAEXC,OAAW,aAGT7F,EAAUb,EAAKkC,MAAMrB,QAEzBK,MAAM,0BAA2B,CAC/BC,OAAQ,OACRC,QAAS,CACPC,eAAgB,qCAElBC,KAAMR,IAEPS,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAC,GACFX,EAAUW,EAAIX,QACdb,EAAK6B,SAAS,CACZhB,QAASA,IAEXb,EAAK2G,aAGR7E,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAxMd/B,EA8Md2G,SAAW,SAACrH,GACPU,EAAKkC,MAAM0E,SACZtH,EAAEiE,iBACFvD,EAAK6B,SAAS,CACZ2E,kBAAkB,KAItB,IAOInE,EAPAwE,EAAWzB,SAASC,eAAe,YACnCyB,EAAW1B,SAASC,eAAe,YACnC0B,EAAS3B,SAASC,eAAe,UACjC2B,EAAS5B,SAASC,eAAe,UACjC7C,EAAU4C,SAASC,eAAe,WAClC4B,EAAO7B,SAASC,eAAe,QAC/B7F,EAAQ,GAEN0H,EAAWlH,EAAKkC,MAAM1C,MAGtB+C,EAAO,IAAI4E,KACXC,EAAQ,GAAAjI,OAAMoD,EAAK8E,UAAX,KAAAlI,OAHK,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAClE,OAAQ,SAAU,YAAa,UAAW,WAAY,YAEPoD,EAAK+E,YAAxC,KAAAnI,OAAuDoD,EAAKgF,cAA5D,KAAApI,OAA6EoD,EAAKiF,WAAlF,KAAArI,OAAgGoD,EAAKkF,aAArG,KAAAtI,OAAqHoD,EAAKmF,cAClI9E,EAAW5C,EAAKkC,MAAMU,SAE5BsE,EAASS,QAAQ,SAAC5E,GAChBvD,EAAMiF,KAAK1B,EAAK6B,QAGlB,IAAMjE,EAAS,CACbC,OAAW,kBACXgH,OAAW,CACTpF,QAAYA,EAAQyD,MACpB4B,YAAchB,EAASZ,MACvB6B,aAAehB,EAASb,MACxB8B,UAAYhB,EAAOd,MACnB+B,QAAW,CAACf,KAASA,EAAKhB,OAC1BgC,SAAYzI,GAEd0I,SAAY,OACZC,IAAO,CACLnB,EAAOf,OAETpF,QAAWb,EAAKkC,MAAMrB,SAGlBC,EAAU,iCAAmCC,mBAAmBC,KAAKC,UAAUN,IAErFO,MAAM,0BAA2B,CAC/BC,OAAQ,OACRC,QAAS,CACPC,eAAgB,qCAElBC,KAAMR,IAEPS,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAC,GACFa,EAAUb,EAAI,YACd,IAAM4G,EAAa,CACjB5F,QAASA,EAAQyD,MACjBY,SAAUA,EAASZ,MACnBa,SAAUA,EAASb,MACnBc,OAAQA,EAAOd,MACfe,OAAQA,EAAOf,MACfgB,KAAMA,EAAKhB,MACX1D,KAAM6E,EACNlI,GAAImD,GAGNO,EAAS6B,KAAK2D,GAIdvB,EAASZ,MAAQ,GACjBa,EAASb,MAAQ,GACjBc,EAAOd,MAAQ,GACfe,EAAOf,MAAQ,GACfzD,EAAQyD,MAAQ,GAChBgB,EAAKhB,MAAQ,GAEbjG,EAAK6B,SAAS,CACZe,SAAUA,EACVD,kBAAkB,EAClBiE,QAAQ,EACR1B,QAAS,EACTxG,cAAe,EACfc,MAAO,GACPsF,MAAO,GACPN,QAAS,IACR,kBAAMxE,EAAKoE,wBAEftC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KAE1B/B,EAAK6B,SAAS,CACZ2E,kBAAkB,KAxStBxG,EAAKkC,MAAQ,CACXxD,cAAe,EACfwG,QAAS,EACTJ,MAAO,GACPN,QAAS,GACThF,MAAO,GACPsE,UAAU,EACVlB,SAAU,GACVD,kBAAkB,EAClB6D,kBAAkB,EAClB3F,QAAS,GACT+F,QAAQ,GAbE5G,mFA4DZG,KAAKuD,YAAc,EACnB,IAAI2E,EAAMlI,KAAKgD,QAAQmF,QACvBD,EAAIE,iBAAiB,YAAapI,KAAKsD,cACvC4E,EAAIE,iBAAiB,YAAapI,KAAK4D,eACvCsE,EAAIE,iBAAiB,WAAYpI,KAAKmD,YACtC+E,EAAIE,iBAAiB,OAAQpI,KAAK6D,YAElC7D,KAAKiE,mEAIL,IAAIiE,EAAMlI,KAAKgD,QAAQmF,QACvBD,EAAIG,oBAAoB,YAAarI,KAAKsD,cAC1C4E,EAAIG,oBAAoB,YAAarI,KAAK4D,eAC1CsE,EAAIG,oBAAoB,WAAYrI,KAAKmD,YACzC+E,EAAIG,oBAAoB,OAAQrI,KAAK6D,6CAsO9B,IAAA7B,EAAAhC,KAAAsI,EAC8GtI,KAAK+B,MAAlH0E,EADD6B,EACC7B,OAAQlI,EADT+J,EACS/J,cAAeoF,EADxB2E,EACwB3E,SAAUoB,EADlCuD,EACkCvD,QAASvC,EAD3C8F,EAC2C9F,iBAAkBC,EAD7D6F,EAC6D7F,SAAU4B,EADvEiE,EACuEjE,QAAS3D,EADhF4H,EACgF5H,QAAS2F,EADzFiC,EACyFjC,iBAEhG,OACE1H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,QAAM0J,SAAW9B,EAASzG,KAAKwG,SAAWxG,KAAKoG,KAAOtH,UAAU,OAAO0J,IAAMxI,KAAKgD,SAChFrE,EAAAC,EAAAC,cAAA,OAAKC,UAAY6E,EAAW,YAAc,YACxChF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAmBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAAb,mBAEpCH,EAAAC,EAAAC,cAAA,OAAKC,UAAYuH,EAAmB,UAAY,YAC9C1H,EAAAC,EAAAC,cAAA,OAAKU,IAAMkJ,IAAUhJ,IAAI,aAAaX,UAAU,iBAElDH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAd,YACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,QAAQG,KAAK,OAAOF,GAAG,WAAW0G,KAAK,YAAYiD,UAAU,IAAIC,UAAU,KAAKC,YAAY,YAAYC,UAAQ,IACjIlK,EAAAC,EAAAC,cAAA,SAAOS,QAAQ,YAAYR,UAAU,SAArC,cAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,QAAQG,KAAK,QAAQF,GAAG,WAAW0G,KAAK,YAAYmD,YAAY,aAAaC,UAAQ,IACtGlK,EAAAC,EAAAC,cAAA,SAAOS,QAAQ,YAAYR,UAAU,SAArC,eAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,QAAQG,KAAK,OAAOF,GAAG,SAAS0G,KAAK,UAAUiD,UAAU,IAAIC,UAAU,KAAKC,YAAY,gBAAgBC,UAAQ,IACjIlK,EAAAC,EAAAC,cAAA,SAAOS,QAAQ,YAAYR,UAAU,SAArC,kBAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,QAAQG,KAAK,QAAQF,GAAG,SAAS0G,KAAK,UAAUmD,YAAY,iBAAkBC,UAAQ,IACvGlK,EAAAC,EAAAC,cAAA,SAAOS,QAAQ,YAAYR,UAAU,SAArC,mBAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,QAAQG,KAAK,OAAOF,GAAG,UAAU0G,KAAK,UAAUiD,UAAU,IAAIE,YAAY,kBAAmBC,UAAQ,IACtHlK,EAAAC,EAAAC,cAAA,SAAOS,QAAQ,UAAUR,UAAU,SAAnC,qBAGJH,EAAAC,EAAAC,cAAA,YAAUC,UAAU,WAAWC,GAAG,OAAO+J,KAAK,IAAIF,YAAY,2BAA2BF,UAAU,KAAKG,UAAQ,IAEhHlK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAEXuF,EAAQ1B,IAAI,SAACC,GAOX,OANAA,EAAK2B,UAAY5F,EAAAC,EAAAC,cAACkK,EAAD,CACbxK,cAAkBA,EAClBG,MAAQkE,EAAK4B,OACb1B,IAAMF,EAAK4B,OACXhG,QAAUwD,EAAKxD,QACfC,WAAauD,EAAKvD,aACfmE,EAAK2B,aAKlB5F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,iCAA0BkG,EAA1B,OACApG,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAAA,0CAGFF,EAAAC,EAAAC,cAAA,SAAOI,KAAK,SAASH,UAAU,aAAagH,MAAQ,WAGtDnH,EAAAC,EAAAC,cAACmK,EAAD,CAAaxG,iBAAmBA,EAAmBC,SAAWA,EAAW/B,QAAUA,YA9WzE4B,cCGE2G,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCbNC,IAASC,OAAO5K,EAAAC,EAAAC,cAAC2K,EAAD,MAASvE,SAASC,eAAe,SD4H3C,kBAAmBuE,WACrBA,UAAUC,cAAcC,MAAMvI,KAAK,SAAAwI,GACjCA,EAAaC,kCEnInBC,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.62918625.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport del from '../img/del.svg';\r\n\r\n\r\nconst FileButton = ({ buttonCounter, addFile, deleteFile, index}) => {\r\n     return(\r\n        <div className=\"file-input-wrapper\" id={`button-${index}`}>\r\n            <input className=\"file-input\" type=\"file\" id={`file-${index}`} onChange={ (e) => addFile(e.target.files[0]) }/>\r\n            <label htmlFor={`file-${index}`} className=\"file-label\" id={`label-${index}`}>Add some file into me!</label>\r\n            <img src={ del } alt=\"Delete\" className={ buttonCounter === index ? \"disabled\" : \"delete-btn\" } onClick={ () => deleteFile(index) } />\r\n        </div> \r\n    );\r\n}\r\n\r\nexport default FileButton;","import React, { Component } from 'react';\r\n\r\nclass Messages extends Component {\r\n    constructor(props) {\r\n      super(props); \r\n      this.state = {\r\n        status: 'Sending',\r\n        isStatusSetted: false,\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.interval = setInterval( () => this.getStatus(this.props.trackId), 2000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      clearInterval(this.interval);\r\n    }\r\n\r\n    getStatus = (id) => {\r\n      let status = \"Sending\";\r\n      let isStatusSetted = false;\r\n      let response;\r\n      const params = {\r\n        \"action\": \"track.get\",\r\n  \r\n        \"id\": id,\r\n  \r\n        \"session\": this.props.session,\r\n      };\r\n  \r\n      const request = \"apiversion=100&json=1&request=\" + encodeURIComponent(JSON.stringify(params));\r\n\r\n  \r\n      fetch(\"https://api.sendsay.ru/\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n        body: request,\r\n      })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        response = res[\"obj\"][\"status\"];\r\n        response = Number(response);\r\n        if(response === -1) {\r\n          status = \"Sended\";\r\n          isStatusSetted = true;\r\n        } else if(response < -1) {\r\n          status = \"Error\";\r\n          isStatusSetted = true;\r\n        }\r\n\r\n        if(isStatusSetted) {\r\n          clearInterval(this.interval);\r\n        }\r\n\r\n        this.setState({\r\n          status: status,\r\n          isStatusSetted: isStatusSetted,\r\n        })\r\n      })\r\n      .catch(err => console.log(err));\r\n    }\r\n\r\n    render() {\r\n      const { date, subject } = this.props;\r\n      const { status } = this.state;\r\n      return(\r\n        <div className=\"messages__item\">\r\n            <p className=\"item__date\">\r\n                { date }\r\n            </p>\r\n            <p className=\"item__subject\">\r\n                { subject }\r\n            </p> \r\n            <p className={`item__status ${status}`}>\r\n                { status }\r\n            </p>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\n\r\nimport Message from './Message';\r\n\r\nconst MessagesBox = ({ isMessagesSended, messages, session }) => {\r\n\r\n    return(\r\n        <div className={ isMessagesSended ? \"messages-box\" : \"disabled\" }>\r\n          <div className=\"messages-box__wrapper\">\r\n            <ul className=\"messages-box__titles\">\r\n              <li className=\"titles__item\">\r\n                Date\r\n              </li>\r\n              <li className=\"titles__item\">\r\n                Subject\r\n              </li>\r\n              <li className=\"titles__item\">\r\n                Status\r\n              </li>\r\n            </ul>\r\n            <hr />\r\n            <div className=\"messages\">\r\n              {\r\n                messages.reverse().map( (item, index) => <Message trackId={ item.id } session={ session } date={ item.date } subject={ item.subject } key={ index }/>)\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessagesBox;","import React, { Component } from 'react';\n\nimport FileButton from './components/FileButton';\nimport MessagesBox from './components/MessagesBox';\n\nimport loading from \"./img/loading.svg\";\n\nimport './style.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonCounter: 1,\n      sizeSum: 0,\n      sizes: [], // For displaying total size of files\n      buttons: [],\n      files: [],   // For http-requests\n      dragging: false,\n      messages: [],\n      isMessagesSended: false,\n      isMessageSending: false,\n      session: '',\n      isAuth: false,\n    };\n  }\n  \n\n  // ---------------------------------- DRAG AND DROP -------------------------------------------\n\n  dropRef = React.createRef();\n\n  handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  handleDragIn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.dragCounter++;\n    if(e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      this.setState({ dragging: true });\n    }\n  }\n\n  handleDragOut = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.dragCounter--;\n    if (this.dragCounter === 0) {\n      this.setState({ dragging: false });\n    }\n  }\n  \n  handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      dragging: false\n    });\n    const data = e.dataTransfer.files;\n    if (data && data.length > 0) {\n      for(let i = 0, len = data.length; i < len; i++) {\n        this.addFile(data[i]);\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.dragCounter = 0;\n    let div = this.dropRef.current;\n    div.addEventListener('dragenter', this.handleDragIn);\n    div.addEventListener('dragleave', this.handleDragOut);\n    div.addEventListener('dragover', this.handleDrag);\n    div.addEventListener('drop', this.handleDrop);\n\n    this.addButtonsIntoArr();\n  }\n\n  componentWillUnmount() {\n    let div = this.dropRef.current;\n    div.removeEventListener('dragenter', this.handleDragIn);\n    div.removeEventListener('dragleave', this.handleDragOut);\n    div.removeEventListener('dragover', this.handleDrag);\n    div.removeEventListener('drop', this.handleDrop);\n  }\n\n\n\n  // --------------------------- ADDING FILES THROUGH THE BUTTON -------------------------------------\n\n  addButtonsIntoArr = (counter = 1) => {\n    let buttons = this.state.buttons;\n\n    buttons.push({\n      component: \"\",\n      number: counter,\n    });\n\n    this.setState({\n      buttons: buttons,\n    });\n  }\n\n\n  addFile = (file) => {\n    let counter = this.state.buttonCounter;\n    let content;\n    const sizes = this.state.sizes;\n    const newFileSize = file.size/1024/1024;\n    const newSizeSum  = newFileSize + this.state.sizeSum;\n    const button = document.getElementById(`label-${counter}`);\n    const fileInput = document.getElementById(`file-${counter}`);\n    const reader = new FileReader();\n\n    if(newFileSize < 5 && newSizeSum < 20) {\n      fileInput.setAttribute(\"disabled\", \"\");\n      \n      reader.onload = (e) => {\n        content = e.target.result;\n        this.state.files.push({\n          file: {\n          name: file.name,\n          content: content,\n          encoding: \"base64\",\n          },\n          number: counter,\n        });\n      }\n      \n      reader.readAsDataURL(file);\n      button.innerHTML = file.name;\n      counter++;\n      sizes.push({\n        size: newFileSize,\n        number: counter,\n      })\n\n      this.setState({\n        buttonCounter: counter,\n        sizeSum: newSizeSum,\n        sizes: sizes, \n      }, () => this.addButtonsIntoArr(counter));\n\n    } else if(newFileSize > 5){\n      alert(\"Size of file too large!\");\n      fileInput.value = \"\";\n    } else if(newSizeSum > 20) {\n      alert(\"Sum of file's sizes too large!\");\n      fileInput.value = \"\";\n    }\n  }\n\n  // --------------------------------------- DELETING FILES -------------------------------------------\n\n  deleteFile = (index) => {\n    let buttons = this.state.buttons;\n    let files = this.state.files;\n    let sizes = this.state.sizes;\n    let newSum;\n\n    files = files.filter(el => el.number !== index+1);\n    buttons = buttons.filter(el => el.number !== index);\n    sizes = sizes.filter(el => el.number !== index+1);\n    newSum = sizes.reduce((sum, { size }) => sum + size, 0);\n\n    this.setState({\n      files: files,\n      sizeSum: newSum,\n      sizes: sizes,\n      buttons: buttons,\n    });\n  }\n  \n\n  // --------------------------------------- Authorisation -------------------------------------\n\n  auth = (e) => {\n    e.preventDefault();\n    this.setState({\n      isMessageSending: true,\n    });\n\n    const params = {\n      \"action\" : \"login\", \n      \n      \"login\"  : \"nipanasovich@gmail.com\", \n      \n      \"passwd\" : \"uu1Quem\", \n    };\n    const request = \"apiversion=100&json=1&request=\" + encodeURIComponent(JSON.stringify(params));\n    let session = this.state.session;\n\n    fetch(\"https://api.sendsay.ru/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: request,\n    })\n    .then(res => res.json())\n    .then(res => { \n        session = res.session\n        this.setState({\n          session: session,\n        });\n        this.sendMail()\n      }\n    )\n    .catch(err => console.log(err));\n\n  }\n\n  // ---------------------------------------------- SEND MAIL ----------------------------------------------------------------\n\n  sendMail = (e) => {\n    if(this.state.isAuth) { \n      e.preventDefault();\n      this.setState({\n        isMessageSending: true,\n      });\n    }\n    \n    let fromName = document.getElementById(\"fromName\");\n    let fromMail = document.getElementById(\"fromMail\");\n    let toName = document.getElementById(\"toName\");\n    let toMail = document.getElementById(\"toMail\");\n    let subject = document.getElementById(\"subject\");\n    let text = document.getElementById(\"text\");\n    let files = [];\n    let trackId;\n    const filesArr = this.state.files;\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n      \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    const date = new Date();\n    const mailDate = `${date.getDate()} ${monthNames[date.getMonth()]} ${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n    const messages = this.state.messages;\n\n    filesArr.forEach((item) => {\n      files.push(item.file);\n    })\n    \n    const params = { \n      \"action\" : \"issue.send.test\",\n      \"letter\" : {\n        \"subject\" : subject.value,\n        \"from.name\" : fromName.value, \n        \"from.email\" : fromMail.value,\n        \"to.name\" : toName.value,\n        \"message\": {\"text\" : text.value },\n        \"attaches\": files\n      },\n      \"sendwhen\": \"test\",\n      \"mca\": [\n        toMail.value,\n      ],\n      \"session\": this.state.session,\n\n    };\n    const request = \"apiversion=100&json=1&request=\" + encodeURIComponent(JSON.stringify(params));\n\n    fetch(\"https://api.sendsay.ru/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: request,\n    })\n    .then(res => res.json())\n    .then(res => {\n        trackId = res[\"track.id\"];\n        const newMessage = {\n          subject: subject.value,\n          fromName: fromName.value,\n          fromMail: fromMail.value,\n          toName: toName.value,\n          toMail: toMail.value,\n          text: text.value,\n          date: mailDate,\n          id: trackId,\n        }\n\n        messages.push(newMessage);\n\n        // Cleaning the form\n\n        fromName.value = \"\";\n        fromMail.value = \"\";\n        toName.value = \"\";\n        toMail.value = \"\";\n        subject.value = \"\";\n        text.value = \"\";\n\n        this.setState({\n          messages: messages,\n          isMessagesSended: true,\n          isAuth: true,\n          sizeSum: 0,\n          buttonCounter: 1,\n          files: [],\n          sizes: [],\n          buttons: [],\n        }, () => this.addButtonsIntoArr());\n      })\n      .catch(err => console.log(err));  \n\n      this.setState({\n        isMessageSending: false,\n      })\n  }\n  \n\n  // ---------------------------------------- RENDER ----------------------------------\n\n  render() {\n    const { isAuth, buttonCounter, dragging, sizeSum, isMessagesSended, messages, buttons, session, isMessageSending } = this.state;\n\n    return (\n      <div className=\"App\">\n        <form onSubmit={ isAuth ? this.sendMail : this.auth } className=\"form\" ref={ this.dropRef }>\n          <div className={ dragging ? \"drop-zone\" : \"disabled\"}>\n            <div className=\"drop-zone--inner\"><p className=\"drop-zone__text\">Drop me Here!</p></div>\n          </div>\n          <div className={ isMessageSending ? \"loading\" : \"disabled\"}>\n            <img src={ loading } alt=\"Loading...\" className=\"loading-img\" />\n          </div>\n          <h1 className=\"form__heading\">BestMail</h1>\n          <div className=\"form__inputs\">\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"text\" id=\"fromName\" name=\"from-name\" minLength=\"2\" maxLength=\"30\" placeholder=\"Your Name\" required />\n              <label htmlFor=\"from-name\" className=\"label\">Your Name</label>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"email\" id=\"fromMail\" name=\"from-mail\" placeholder=\"Your Email\" required />\n              <label htmlFor=\"from-name\" className=\"label\">Your Email</label>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"text\" id=\"toName\" name=\"to-name\" minLength=\"2\" maxLength=\"30\" placeholder=\"Receiver Name\" required />\n              <label htmlFor=\"from-name\" className=\"label\">Receiver Name</label>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" type=\"email\" id=\"toMail\" name=\"to-mail\" placeholder=\"Receiver Email\"  required />\n              <label htmlFor=\"from-name\" className=\"label\">Receiver Email</label>\n            </div>\n            <div className=\"input-wrapper input--subject\">\n              <input className=\"input\" type=\"text\" id=\"subject\" name=\"subject\" minLength=\"4\" placeholder=\"Message Subject\"  required />\n              <label htmlFor=\"subject\" className=\"label\">Message Subject</label>\n            </div>\n          </div>\n          <textarea className=\"textarea\" id=\"text\" rows=\"7\" placeholder=\"Write your message here!\" minLength=\"10\" required></textarea>\n\n          <div className=\"files\">\n            { \n              buttons.map((item) => {\n                item.component = <FileButton \n                    buttonCounter = { buttonCounter }\n                    index={ item.number }\n                    key={ item.number } \n                    addFile={ this.addFile } \n                    deleteFile={ this.deleteFile } />\n                return item.component\n              })\n            }\n          </div>\n\n          <div className=\"files-size\">\n            <p>Total size of files: { sizeSum } MB</p>\n            <p>Max size of one file: 5 MB</p>\n            <p>Max size of all files: 20 MB</p>\n          </div>\n\n          <input type=\"submit\" className=\"submit-btn\" value = \"Send!\"/>\n        </form>\n\n        <MessagesBox isMessagesSended={ isMessagesSended } messages={ messages } session={ session }/>\n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/del.fd8b42e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.9068484e.svg\";"],"sourceRoot":""}